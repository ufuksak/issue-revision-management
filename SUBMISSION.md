# Testlio coding assignment test results and submissions

## Test Results
```
PASS  lib/tests/app.integration.test.ts
  Issues IT
    √ GET /issues/:id/revisions with valid token verify the revisions found (64 ms)
    √ GET /issues/:id/revisions with valid token verify no revisions found (21 ms)
    √ GET /issues/:id/revisions/diff?revA=1&revB=3 with valid token (21 ms)
    √ GET /issues/:id/revisions/diff?revA=3&revB=1 with valid token verify comparison in reverse order (25 ms)
    √ GET /issues/:id/revisions/diff?revA=1&revB=3 when no revisions verify no revisions found (19 ms)
    √ GET /issues/:id/revisions/diff?revA=1 when not all revision parameters given verify missing parameters error (19 ms)
    √ GET /issues/:id/revisions/diff?revA=1&revB=3 when two revisions given verify compared revisions not found (19 ms)
    √ GET /issues/:id with valid token verify the issue found (45 ms)
    √ GET /issues with valid token verify the issues found (22 ms)
    √ POST /issues with valid token verify the new issue created (59 ms)
    √ POST /issues with valid token and missing parameters verify the new issue creation failed (18 ms)
    √ PUT /issues with valid token verify the issue update is done (26 ms)
    √ PUT /issues with valid token and missing parameters verify the issue update failed (14 ms)
    √ PUT /issues with the missing token verify no token found (12 ms)

 PASS  lib/tests/auth.integration.test.ts
  Issues IT
    √ POST /auth/validateToken verify the expired token failed (17 ms)
    √ POST /auth/validateToken given invalid sign key verify the token validate failed (10 ms)
    √ POST /auth/validateToken verify the invalid token provided (9 ms)
    √ POST /auth/generateToken verify the token generated (13 ms)

 PASS  lib/tests/issue.integration.test.ts
  Issue Model
    √ should create an issue (5 ms)
    √ should find an issue (4 ms)

 PASS  lib/tests/revision.integration.test.ts
  Revision Model
    √ should create a revision (4 ms)
    √ should find a revision (4 ms)

----------------|---------|----------|---------|---------|-------------------
File            | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
----------------|---------|----------|---------|---------|-------------------
All files       |   96.42 |    80.28 |   91.42 |   96.19 |                   
 lib            |     100 |      100 |     100 |     100 |                  
  routes.ts     |     100 |      100 |     100 |     100 |                  
 lib/api        |   96.26 |    81.81 |   93.33 |   95.93 |                  
  auth.ts       |   96.15 |    66.66 |     100 |   95.83 | 42               
  discovery.ts  |      75 |      100 |       0 |      75 | 7                
  health.ts     |      75 |      100 |       0 |      75 | 6                
  issues.ts     |    97.7 |    84.48 |     100 |   97.43 | 80-81            
  responses.ts  |     100 |       50 |     100 |     100 | 12               
 lib/middleware |    92.3 |      100 |   66.66 |   91.66 |                  
  auth.ts       |    92.3 |      100 |   66.66 |   91.66 | 8                
 lib/models     |   95.83 |       50 |     100 |   95.83 |                  
  index.ts      |   93.75 |       50 |     100 |   93.75 | 16               
  issue.ts      |     100 |      100 |     100 |     100 |                  
  revision.ts   |     100 |      100 |     100 |     100 |                  
 lib/tests      |     100 |      100 |     100 |     100 |                  
  app.ts        |     100 |      100 |     100 |     100 |                  
----------------|---------|----------|---------|---------|-------------------
Test Suites: 4 passed, 4 total
Tests:       22 passed, 22 total
Snapshots:   0 total
Time:        5.277 s
Ran all test suites.
```

## Submissions
- Completed 6 tasks listed in the pdf file on 23 July 2024 (including newer to older revision comparisons Bonus points)
- Continue to the bonus tasks and completed on 26 July 2024 (except typescript conversion)
- Used the ts-migrate library to start the typescript migration on 26 July 2024 (3 history records automatically generated by ts-migrate air-bnb library tool)
- Continue to the last bonus task(typescript conversion) on 28 July 2024 and Completed on 28 July 2024
- Typescript development completed without typescript type declaration benefits, because 6 hours reached. Some comment out lines left to continue to TODO tasks
- To run the test type `npm run test`
- To generate the openApi schema types `npm run generate-types`
- To run the application with debug mode `npm run watch-node`
- To run the application locally change `port: process.env.MYSQLDB_DOCKER_PORT` to `port: process.env.MYSQLDB_LOCAL_PORT` in database.ts file
- EXTRA: added the github actions for the automatic deployment to AWS fargate and create release versions from the deployments, can be found under `.github/worflows` folder.
- EXTRA: Postman collection developed
- TODO: Typescript openApi schema auto generation logic integrated but not used in the Controller classes, openAPI standards can be applied and input output could be validated for each requests.
- TODO: Typescript sequelize models could be replaced with old models and Controller classes could be modified accordingly
- TODO: Linting and prettier formatting rules can be added and a new github pull request check workflow can automatically validate the formatting
- TODO: Simple very basic code line coverages can be done by implementing the basic tests
